usage: conda [-h] [--no-plugins] [-V] COMMAND ...
conda: error: argument COMMAND: invalid choice: 'deactivate' (choose from 'clean', 'compare', 'config', 'create', 'info', 'init', 'install', 'list', 'notices', 'package', 'remove', 'uninstall', 'rename', 'run', 'search', 'update', 'upgrade', 'build', 'content-trust', 'convert', 'debug', 'develop', 'doctor', 'index', 'inspect', 'metapackage', 'render', 'skeleton', 'server', 'repo', 'token', 'env', 'verify')
Running "module reset". Resetting modules to system default. The following $MODULEPATH directories have been removed: None
A conda environment has been detected CONDA_PREFIX=
/u/eergun/.conda/envs/fairseq 
anaconda3_gpu is loaded. Consider running conda deactivate and reloading it.
Defaulting to user installation because normal site-packages is not writeable
Obtaining file:///work/hdd/bcyi/eergun/fairseq
  Installing build dependencies: started
  Installing build dependencies: still running...
  Installing build dependencies: finished with status 'done'
  Checking if build backend supports build_editable: started
  Checking if build backend supports build_editable: finished with status 'done'
  Getting requirements to build editable: started
  Getting requirements to build editable: finished with status 'done'
  Preparing editable metadata (pyproject.toml): started
  Preparing editable metadata (pyproject.toml): finished with status 'done'
Requirement already satisfied: cffi in /sw/external/python/anaconda3/lib/python3.9/site-packages (from fairseq==0.12.2) (1.15.1)
Requirement already satisfied: cython in /u/eergun/.local/lib/python3.9/site-packages (from fairseq==0.12.2) (3.1.2)
Collecting hydra-core<1.1,>=1.0.7 (from fairseq==0.12.2)
  Obtaining dependency information for hydra-core<1.1,>=1.0.7 from https://files.pythonhosted.org/packages/5f/2a/9c698daa12ed6e09e7629e6908528f043fa9de8a441c56cc13608d765fb2/hydra_core-1.0.7-py3-none-any.whl.metadata
  Downloading hydra_core-1.0.7-py3-none-any.whl.metadata (3.7 kB)
Collecting omegaconf<2.1 (from fairseq==0.12.2)
  Obtaining dependency information for omegaconf<2.1 from https://files.pythonhosted.org/packages/d0/eb/9d63ce09dd8aa85767c65668d5414958ea29648a0eec80a4a7d311ec2684/omegaconf-2.0.6-py3-none-any.whl.metadata
  Downloading omegaconf-2.0.6-py3-none-any.whl.metadata (3.0 kB)
Requirement already satisfied: numpy>=1.21.3 in /sw/external/python/anaconda3/lib/python3.9/site-packages (from fairseq==0.12.2) (1.24.3)
Requirement already satisfied: regex in /sw/external/python/anaconda3/lib/python3.9/site-packages (from fairseq==0.12.2) (2022.7.9)
Requirement already satisfied: sacrebleu>=1.4.12 in /u/eergun/.local/lib/python3.9/site-packages (from fairseq==0.12.2) (2.5.1)
Requirement already satisfied: torch>=1.13 in /sw/external/python/anaconda3/lib/python3.9/site-packages (from fairseq==0.12.2) (2.2.0.dev20231003+cu121)
Requirement already satisfied: tqdm in /sw/external/python/anaconda3/lib/python3.9/site-packages (from fairseq==0.12.2) (4.65.0)
Collecting bitarray (from fairseq==0.12.2)
  Obtaining dependency information for bitarray from https://files.pythonhosted.org/packages/a8/f3/9139cba1ca009f6e37155be72e339d0672ec279b9c60b6338fb2d9a68565/bitarray-3.7.1-cp39-cp39-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata
  Downloading bitarray-3.7.1-cp39-cp39-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (34 kB)
Requirement already satisfied: torchaudio>=0.8.0 in /sw/external/python/anaconda3/lib/python3.9/site-packages (from fairseq==0.12.2) (2.2.0.dev20231002)
Requirement already satisfied: scikit-learn in /sw/external/python/anaconda3/lib/python3.9/site-packages (from fairseq==0.12.2) (1.3.0)
Requirement already satisfied: packaging in /sw/external/python/anaconda3/lib/python3.9/site-packages (from fairseq==0.12.2) (23.1)
Collecting antlr4-python3-runtime==4.8 (from hydra-core<1.1,>=1.0.7->fairseq==0.12.2)
  Using cached antlr4_python3_runtime-4.8-py3-none-any.whl
Requirement already satisfied: PyYAML>=5.1.* in /sw/external/python/anaconda3/lib/python3.9/site-packages (from omegaconf<2.1->fairseq==0.12.2) (5.4.1)
Requirement already satisfied: typing-extensions in /sw/external/python/anaconda3/lib/python3.9/site-packages (from omegaconf<2.1->fairseq==0.12.2) (4.7.1)
Requirement already satisfied: portalocker in /u/eergun/.local/lib/python3.9/site-packages (from sacrebleu>=1.4.12->fairseq==0.12.2) (3.2.0)
Requirement already satisfied: tabulate>=0.8.9 in /sw/external/python/anaconda3/lib/python3.9/site-packages (from sacrebleu>=1.4.12->fairseq==0.12.2) (0.8.10)
Requirement already satisfied: colorama in /sw/external/python/anaconda3/lib/python3.9/site-packages (from sacrebleu>=1.4.12->fairseq==0.12.2) (0.4.6)
Requirement already satisfied: lxml in /sw/external/python/anaconda3/lib/python3.9/site-packages (from sacrebleu>=1.4.12->fairseq==0.12.2) (4.9.3)
Requirement already satisfied: filelock in /sw/external/python/anaconda3/lib/python3.9/site-packages (from torch>=1.13->fairseq==0.12.2) (3.9.0)
Requirement already satisfied: sympy in /sw/external/python/anaconda3/lib/python3.9/site-packages (from torch>=1.13->fairseq==0.12.2) (1.11.1)
Requirement already satisfied: networkx in /sw/external/python/anaconda3/lib/python3.9/site-packages (from torch>=1.13->fairseq==0.12.2) (3.1)
Requirement already satisfied: jinja2 in /sw/external/python/anaconda3/lib/python3.9/site-packages (from torch>=1.13->fairseq==0.12.2) (3.1.2)
Requirement already satisfied: fsspec in /u/eergun/.local/lib/python3.9/site-packages (from torch>=1.13->fairseq==0.12.2) (2023.6.0)
Requirement already satisfied: pytorch-triton==2.1.0+6e4932cda8 in /sw/external/python/anaconda3/lib/python3.9/site-packages (from torch>=1.13->fairseq==0.12.2) (2.1.0+6e4932cda8)
Requirement already satisfied: pycparser in /sw/external/python/anaconda3/lib/python3.9/site-packages (from cffi->fairseq==0.12.2) (2.21)
Requirement already satisfied: scipy>=1.5.0 in /sw/external/python/anaconda3/lib/python3.9/site-packages (from scikit-learn->fairseq==0.12.2) (1.8.1)
Requirement already satisfied: joblib>=1.1.1 in /sw/external/python/anaconda3/lib/python3.9/site-packages (from scikit-learn->fairseq==0.12.2) (1.2.0)
Requirement already satisfied: threadpoolctl>=2.0.0 in /sw/external/python/anaconda3/lib/python3.9/site-packages (from scikit-learn->fairseq==0.12.2) (2.2.0)
Requirement already satisfied: MarkupSafe>=2.0 in /sw/external/python/anaconda3/lib/python3.9/site-packages (from jinja2->torch>=1.13->fairseq==0.12.2) (2.1.1)
Requirement already satisfied: mpmath>=0.19 in /sw/external/python/anaconda3/lib/python3.9/site-packages (from sympy->torch>=1.13->fairseq==0.12.2) (1.3.0)
Downloading hydra_core-1.0.7-py3-none-any.whl (123 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 123.8/123.8 kB 4.2 MB/s eta 0:00:00
Downloading omegaconf-2.0.6-py3-none-any.whl (36 kB)
Downloading bitarray-3.7.1-cp39-cp39-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (319 kB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 320.0/320.0 kB 11.0 MB/s eta 0:00:00
Building wheels for collected packages: fairseq
  Building editable for fairseq (pyproject.toml): started
  Building editable for fairseq (pyproject.toml): finished with status 'error'
  error: subprocess-exited-with-error
  
  × Building editable for fairseq (pyproject.toml) did not run successfully.
  │ exit code: 1
  ╰─> [82 lines of output]
      /tmp/pip-build-env-scltjqey/overlay/lib/python3.9/site-packages/setuptools/_distutils/dist.py:289: UserWarning: Unknown distribution option: 'test_suite'
        warnings.warn(msg)
      /tmp/pip-build-env-scltjqey/overlay/lib/python3.9/site-packages/setuptools/dist.py:759: SetuptoolsDeprecationWarning: License classifiers are deprecated.
      !!
      
              ********************************************************************************
              Please consider removing the following classifiers in favor of a SPDX license expression:
      
              License :: OSI Approved :: MIT License
      
              See https://packaging.python.org/en/latest/guides/writing-pyproject-toml/#license for details.
              ********************************************************************************
      
      !!
        self._finalize_license_expression()
      running editable_wheel
      creating /tmp/pip-wheel-9naf6oc3/.tmp-hrf06aih/fairseq.egg-info
      writing /tmp/pip-wheel-9naf6oc3/.tmp-hrf06aih/fairseq.egg-info/PKG-INFO
      writing dependency_links to /tmp/pip-wheel-9naf6oc3/.tmp-hrf06aih/fairseq.egg-info/dependency_links.txt
      writing entry points to /tmp/pip-wheel-9naf6oc3/.tmp-hrf06aih/fairseq.egg-info/entry_points.txt
      writing requirements to /tmp/pip-wheel-9naf6oc3/.tmp-hrf06aih/fairseq.egg-info/requires.txt
      writing top-level names to /tmp/pip-wheel-9naf6oc3/.tmp-hrf06aih/fairseq.egg-info/top_level.txt
      writing manifest file '/tmp/pip-wheel-9naf6oc3/.tmp-hrf06aih/fairseq.egg-info/SOURCES.txt'
      W0928 00:36:08.612185 1168847 torch/utils/cpp_extension.py:615] Attempted to use ninja as the BuildExtension backend but we could not find ninja.. Falling back to using the slow distutils backend.
      reading manifest file '/tmp/pip-wheel-9naf6oc3/.tmp-hrf06aih/fairseq.egg-info/SOURCES.txt'
      reading manifest template 'MANIFEST.in'
      adding license file 'LICENSE'
      writing manifest file '/tmp/pip-wheel-9naf6oc3/.tmp-hrf06aih/fairseq.egg-info/SOURCES.txt'
      creating '/tmp/pip-wheel-9naf6oc3/.tmp-hrf06aih/fairseq-0.12.2.dist-info'
      creating /tmp/pip-wheel-9naf6oc3/.tmp-hrf06aih/fairseq-0.12.2.dist-info/WHEEL
      running build_py
      running build_ext
      Traceback (most recent call last):
        File "/sw/external/python/anaconda3/lib/python3.9/site-packages/pip/_vendor/pyproject_hooks/_in_process/_in_process.py", line 353, in <module>
          main()
        File "/sw/external/python/anaconda3/lib/python3.9/site-packages/pip/_vendor/pyproject_hooks/_in_process/_in_process.py", line 335, in main
          json_out['return_val'] = hook(**hook_input['kwargs'])
        File "/sw/external/python/anaconda3/lib/python3.9/site-packages/pip/_vendor/pyproject_hooks/_in_process/_in_process.py", line 273, in build_editable
          return hook(wheel_directory, config_settings, metadata_directory)
        File "/tmp/pip-build-env-scltjqey/overlay/lib/python3.9/site-packages/setuptools/build_meta.py", line 468, in build_editable
          return self._build_with_temp_dir(
        File "/tmp/pip-build-env-scltjqey/overlay/lib/python3.9/site-packages/setuptools/build_meta.py", line 404, in _build_with_temp_dir
          self.run_setup()
        File "/tmp/pip-build-env-scltjqey/overlay/lib/python3.9/site-packages/setuptools/build_meta.py", line 317, in run_setup
          exec(code, locals())
        File "<string>", line 257, in <module>
        File "<string>", line 167, in do_setup
        File "/tmp/pip-build-env-scltjqey/overlay/lib/python3.9/site-packages/setuptools/__init__.py", line 115, in setup
          return distutils.core.setup(**attrs)
        File "/tmp/pip-build-env-scltjqey/overlay/lib/python3.9/site-packages/setuptools/_distutils/core.py", line 186, in setup
          return run_commands(dist)
        File "/tmp/pip-build-env-scltjqey/overlay/lib/python3.9/site-packages/setuptools/_distutils/core.py", line 202, in run_commands
          dist.run_commands()
        File "/tmp/pip-build-env-scltjqey/overlay/lib/python3.9/site-packages/setuptools/_distutils/dist.py", line 1002, in run_commands
          self.run_command(cmd)
        File "/tmp/pip-build-env-scltjqey/overlay/lib/python3.9/site-packages/setuptools/dist.py", line 1102, in run_command
          super().run_command(command)
        File "/tmp/pip-build-env-scltjqey/overlay/lib/python3.9/site-packages/setuptools/_distutils/dist.py", line 1021, in run_command
          cmd_obj.run()
        File "/tmp/pip-build-env-scltjqey/overlay/lib/python3.9/site-packages/setuptools/command/editable_wheel.py", line 139, in run
          self._create_wheel_file(bdist_wheel)
        File "/tmp/pip-build-env-scltjqey/overlay/lib/python3.9/site-packages/setuptools/command/editable_wheel.py", line 349, in _create_wheel_file
          files, mapping = self._run_build_commands(dist_name, unpacked, lib, tmp)
        File "/tmp/pip-build-env-scltjqey/overlay/lib/python3.9/site-packages/setuptools/command/editable_wheel.py", line 272, in _run_build_commands
          self._run_build_subcommands()
        File "/tmp/pip-build-env-scltjqey/overlay/lib/python3.9/site-packages/setuptools/command/editable_wheel.py", line 299, in _run_build_subcommands
          self.run_command(name)
        File "/tmp/pip-build-env-scltjqey/overlay/lib/python3.9/site-packages/setuptools/_distutils/cmd.py", line 357, in run_command
          self.distribution.run_command(command)
        File "/tmp/pip-build-env-scltjqey/overlay/lib/python3.9/site-packages/setuptools/dist.py", line 1102, in run_command
          super().run_command(command)
        File "/tmp/pip-build-env-scltjqey/overlay/lib/python3.9/site-packages/setuptools/_distutils/dist.py", line 1021, in run_command
          cmd_obj.run()
        File "/tmp/pip-build-env-scltjqey/overlay/lib/python3.9/site-packages/setuptools/command/build_ext.py", line 96, in run
          _build_ext.run(self)
        File "/tmp/pip-build-env-scltjqey/overlay/lib/python3.9/site-packages/setuptools/_distutils/command/build_ext.py", line 368, in run
          self.build_extensions()
        File "/tmp/pip-build-env-scltjqey/overlay/lib/python3.9/site-packages/torch/utils/cpp_extension.py", line 650, in build_extensions
          _check_cuda_version(compiler_name, compiler_version)
        File "/tmp/pip-build-env-scltjqey/overlay/lib/python3.9/site-packages/torch/utils/cpp_extension.py", line 506, in _check_cuda_version
          raise RuntimeError(CUDA_MISMATCH_MESSAGE, cuda_str_version, torch.version.cuda)
      RuntimeError: ('The detected CUDA version (%s) mismatches the version that was used to compilePyTorch (%s). Please make sure to use the same CUDA versions.', '11.8', '12.8')
      [end of output]
  
  note: This error originates from a subprocess, and is likely not a problem with pip.
  ERROR: Failed building editable for fairseq
Failed to build fairseq
ERROR: Could not build wheels for fairseq, which is required to install pyproject.toml-based projects
